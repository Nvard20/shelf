<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <style>
        *, *:after, *:before {
            box-sizing: border-box;
            transform-style: preserve-3d;
            will-change: transform;
        }
        :root {
            --bg: #bcccdc;
            --hover: 0.05;
            --default: 0.01;
            --limit: 0.9;
            --height: 30;
            --width: 20;
            --depth: 15;
            --frame: 1;
            --handle: #ccc;
            --hue: 10;
            --saturation: 0%;
            --drawer-one: #fafafa;
            --drawer-two: #e6e6e6;
            --drawer-three: #f2f2f2;
            --unit-one: hsl(var(--hue), var(--saturation), 50%);
            --unit-two: hsl(var(--hue), var(--saturation), 40%);
            --unit-three: hsl(var(--hue), var(--saturation), 20%);
            --unit-four: hsl(var(--hue), var(--saturation), 15%);
            --transition: 0.2s;
        }
        body {
            background: var(--bg);
            display: grid;
            place-items: center;
            min-height: 100vh;
            transform: scale(1.5);
            overflow: hidden;
        }
        .chest {
            height: calc(var(--height) * 1vmin);
            transform: translate3d(0, 0, 50vmin) rotateX(-32deg) rotateY(40deg);
            width: calc(var(--width) * 1vmin);
            color: #1c1717;
        }
        /* The rest of the chest styles are the same */
        
        /* Removed hover effect */
        details, .drawer__structure {
            transition: transform var(--transition);
            transform: translate3d(0, 0, calc((var(--default)) * var(--depth) * 1vmin));
        }
        details[open], .drawer__structure[open], details[open] + .drawer__structure, .drawer__structure[open] + .drawer__structure {
            --open: var(--limit);
            transform: translate3d(0, 0, calc(var(--limit) * var(--depth) * 1vmin));
        }

        summary {
            outline: transparent;
            height: 100%;
            width: 100%;
        }
        summary::-webkit-details-marker {
            display: none;
        }
        summary:after {
            content: '';
            position: absolute;
            background: linear-gradient(var(--handle), var(--handle)) 50% 15%/40% 8% no-repeat, transparent;
            height: 110%;
            width: 110%;
            top: 50%;
            left: 50%;
            transform: translate3d(-50%, -50%, 0.5vmin);
        }

    </style>
</head>
<body>
    <div class="chest">
        <!-- The same chest structure as before -->
        <div class="chest__drawer drawer" data-position="1">
            <details>
                <summary></summary>
            </details>
            <div class="drawer__structure">
                <div class="drawer__panel drawer__panel--back">
                    <img src="img/gun.png" alt="Money" style="width: 80%; height: auto;">
                </div>
            </div>
        </div>
        <!-- Repeat for other drawers -->
    </div>

    <script>
        // Handle click event for toggling open state
        document.querySelectorAll('.chest__drawer details').forEach(function(details) {
            details.addEventListener('click', function() {
                // Toggle the open state when clicked
                if (details.hasAttribute('open')) {
                    details.removeAttribute('open');
                } else {
                    document.querySelectorAll('.chest__drawer details[open]').forEach(function(openDetails) {
                        openDetails.removeAttribute('open');
                    });
                    details.setAttribute('open', '');
                }
            });
        });
    </script>
</body>
</html>
